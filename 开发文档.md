# HTML5 贪吃蛇游戏开发文档

## 一、项目概述

### 1.1 项目名称
HTML5 简约风贪吃蛇游戏

### 1.2 项目描述
一款采用原生HTML5技术开发的经典贪吃蛇游戏，具有简约画风、完整的音效系统和排行榜功能。

### 1.3 技术栈
- **HTML5**: 页面结构
- **CSS3**: 样式设计（简约风格）
- **JavaScript (ES6+)**: 游戏逻辑
- **Canvas API**: 游戏渲染
- **Web Audio API**: 音效系统
- **LocalStorage**: 本地数据存储（排行榜）

---

## 二、功能需求

### 2.1 核心游戏功能
1. **蛇的移动控制**
   - 支持方向键（上下左右）控制
   - 支持WASD键控制
   - 蛇不能反向移动（防止自杀）

2. **食物系统**
   - 随机位置生成食物
   - 吃到食物后蛇身增长
   - 食物不能生成在蛇身上

3. **碰撞检测**
   - 碰到墙壁游戏结束
   - 碰到自己身体游戏结束

4. **计分系统**
   - 每吃一个食物得分
   - 实时显示当前分数

### 2.2 音效系统
1. **吃食物音效**: 吃到食物时播放提示音
2. **碰壁音效**: 撞墙时播放碰撞音
3. **死亡音效**: 游戏结束时播放失败音

### 2.3 排行榜功能
1. **本地存储**: 使用LocalStorage存储历史最高分
2. **Top排行榜**: 显示前10名最高分记录
3. **玩家昵称**: 允许玩家输入昵称保存成绩
4. **时间记录**: 记录创建时间

### 2.4 界面设计
1. **简约画风**
   - 纯色背景
   - 简洁的方块蛇身
   - 清晰的网格线
   - 现代化UI元素

2. **游戏界面元素**
   - 游戏画布（Canvas）
   - 分数显示
   - 开始/暂停按钮
   - 重新开始按钮
   - 排行榜面板

---

## 三、开发框架设计

### 3.1 文件结构
```
Qoder-snake/
├── index.html          # 主HTML文件
├── css/
│   └── style.css       # 样式文件
├── js/
│   ├── game.js         # 游戏核心逻辑
│   ├── snake.js        # 蛇类
│   ├── food.js         # 食物类
│   ├── audio.js        # 音效管理
│   └── leaderboard.js  # 排行榜功能
└── assets/
    └── sounds/         # 音效文件
        ├── eat.mp3
        ├── wall.mp3
        └── gameover.mp3
```

### 3.2 核心类设计

#### 3.2.1 Snake类（蛇）
```javascript
class Snake {
  constructor()           // 初始化蛇
  move()                  // 移动
  grow()                  // 增长
  checkCollision()        // 碰撞检测
  changeDirection()       // 改变方向
  draw()                  // 绘制蛇
}
```

#### 3.2.2 Food类（食物）
```javascript
class Food {
  constructor()           // 初始化食物
  randomPosition()        // 随机生成位置
  draw()                  // 绘制食物
}
```

#### 3.2.3 Game类（游戏主控制）
```javascript
class Game {
  constructor()           // 初始化游戏
  start()                 // 开始游戏
  pause()                 // 暂停游戏
  restart()               // 重新开始
  update()                // 更新游戏状态
  render()                // 渲染画面
  gameOver()              // 游戏结束处理
}
```

#### 3.2.4 AudioManager类（音效管理）
```javascript
class AudioManager {
  constructor()           // 初始化音效
  playEat()               // 播放吃食物音效
  playWall()              // 播放碰壁音效
  playGameOver()          // 播放游戏结束音效
}
```

#### 3.2.5 Leaderboard类（排行榜）
```javascript
class Leaderboard {
  constructor()           // 初始化排行榜
  addScore()              // 添加分数
  getTopScores()          // 获取前10名
  save()                  // 保存到LocalStorage
  load()                  // 从LocalStorage加载
  display()               // 显示排行榜
}
```

---

## 四、游戏参数配置

### 4.1 画布设置
- **画布大小**: 600x600 像素
- **网格大小**: 20x20 像素
- **网格数量**: 30x30

### 4.2 游戏参数
- **初始蛇长**: 3节
- **初始速度**: 150ms/帧
- **每吃食物得分**: 10分
- **初始方向**: 向右

### 4.3 颜色方案（简约风）
- **背景色**: #f5f5f5（浅灰）
- **网格线**: #e0e0e0（更浅灰）
- **蛇头**: #2c3e50（深蓝灰）
- **蛇身**: #34495e（蓝灰）
- **食物**: #e74c3c（红色）
- **文字**: #333333（深灰）

---

## 五、开发流程

### 阶段1：基础搭建
1. 创建HTML结构
2. 设置CSS样式
3. 初始化Canvas画布

### 阶段2：核心功能开发
1. 实现Snake类
2. 实现Food类
3. 实现Game类主循环
4. 添加键盘控制

### 阶段3：音效系统
1. 创建AudioManager类
2. 生成/添加音效文件
3. 集成音效到游戏事件

### 阶段4：排行榜功能
1. 实现Leaderboard类
2. 集成LocalStorage
3. 设计排行榜UI

### 阶段5：优化与测试
1. 界面美化
2. 响应式调整
3. 性能优化
4. 全面测试

---

## 六、用户交互说明

### 6.1 控制方式
- **方向键**: ↑↓←→ 控制蛇的移动方向
- **WASD**: W(上) S(下) A(左) D(右)
- **空格键**: 暂停/继续游戏
- **Enter键**: 开始游戏

### 6.2 游戏流程
1. 打开页面显示开始界面
2. 点击"开始游戏"或按Enter开始
3. 使用方向键控制蛇移动
4. 吃食物增长和得分
5. 碰壁或咬到自己游戏结束
6. 输入昵称保存成绩到排行榜
7. 可选择重新开始或查看排行榜

---

## 七、技术实现要点

### 7.1 游戏循环
使用`requestAnimationFrame`或`setInterval`实现游戏主循环

### 7.2 碰撞检测
- 墙壁碰撞：检测蛇头是否超出边界
- 自身碰撞：检测蛇头是否与身体其他部分重叠

### 7.3 数据持久化
使用LocalStorage存储JSON格式的排行榜数据

### 7.4 音效实现
可使用Web Audio API或简单的HTML5 Audio元素

---

## 八、后续扩展功能（可选）

1. 难度等级选择（控制速度）
2. 障碍物系统
3. 特殊食物（双倍分数、减速等）
4. 移动端触摸控制
5. 在线排行榜（需要后端支持）
6. 主题切换（日间/夜间模式）

---

## 九、浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

---

## 十、开发时间估算

- 阶段1：1小时
- 阶段2：2-3小时
- 阶段3：1小时
- 阶段4：1-2小时
- 阶段5：1小时

**总计**: 约6-8小时

---

## 结语

本文档提供了完整的开发指导，遵循简约设计原则，确保游戏既有趣又美观。所有功能均可通过原生HTML5技术实现，无需依赖外部框架。
